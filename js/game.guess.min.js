function Guess(){this.field_=null;this.title_="瞎猜";this.user_=new User();}Guess.prototype.a=function(a,b){ajax("./ajax/ajax.guess.php",a,function(c){b?b(c):null;
});};Guess.prototype.info=function(a){var b=this.field_;if(b&&a){a=b[a]||"";}else{a=b;}return a;};Guess.prototype.setInfo=function(a){this.field_=a;};Guess.prototype.init=function(b){var a=this;
a.a({key:"get_game_answer",token:my.info("name")},function(f){a.setInfo(f);var g=new Date().getTime()/1000;if(f.status=="1"){var e=30,d=0;for(var c in f.res){d=e+parseInt(f.res[c]);
$("#select a[sid="+c+"]").css({height:d,width:d}).find("em").html(f.res[c]);}}else{if(f.status=="2"){$("#aa").html(f.msg+"::"+f.result);$("#cc").hide();
$("#c").val("");$("#bb span").html("稍等，下一场准备中");if(user&&Number(f.get)){user.score=Number(user.score)+Number(f.get);$("#score").html(user.score);}}else{if(f.status=="0"){$("#cc").hide();
$("#bb span").html("每日早上10点开启");}}}b?b(f):null;});};Guess.prototype.downtime=function(a){var c=new Date().getTime()/1000;function b(){var f=parseInt(a-c),d=0,e=f;
if(f/60>0){d=parseInt(f/60);e=f-(d*60);f=d+"分"+e+"秒";}else{f=e+"秒";}$("#bb span").html("剩余时间："+f);}setTimeout(function(){that.go();},time);};Guess.prototype.go=function(c){var a=this,b=1000;
this.a({key:"get_game_answer",token:my.info("name")},function(i){a.setInfo(i);var k=new Date().getTime()/1000;if(i.status=="1"){var j=parseInt(i.end-k),f=0,g=j;
if(j/60>0){f=parseInt(j/60);g=j-(f*60);j=f+"分"+g+"秒";}else{j=g+"秒";}$("#bb span").html("剩余时间："+j);var h=30,e=0;for(var d in i.res){e=h+parseInt(i.res[d]);
$("#select a[sid="+d+"]").css({height:e,width:e}).find("em").html(i.res[d]);}}else{if(i.status=="2"){$("#aa").html(i.msg+"::"+i.result);$("#cc").hide();
$("#c").val("");$("#bb span").html("稍等，下一场准备中");if(Number(i.get)){}else{}if(user&&Number(i.get)){user.score=Number(user.score)+Number(i.get);$("#score").html(user.score);
}}else{if(i.status=="0"){$("#cc").hide();$("#bb span").html("每日早上10点开启");}}}c?c(i):null;});setTimeout(function(){a.go();},b);};Guess.prototype.getCurrentSelect=function(a){$("#select a").removeClass("act");
if(this.info("status")&&my.info("token")){this.a({key:"get_user_select",tag:this.info("id"),token:my.info("token")},function(b){if(b){$("#select a[sid="+b+"]").addClass("act");
}});}};Guess.prototype.getSelect=function(a,b){if(!my.info("token")){my.setTip("请登录");}else{if(!this.info("status")){my.setTip("每天开放时间为 10:00 - 22:00");
}else{this.a({key:"set_user_select",tag:this.info("id"),token:my.info("token"),select:a},function(c,d){b?b(c):null;});}}};